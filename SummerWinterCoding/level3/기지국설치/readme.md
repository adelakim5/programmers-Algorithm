## 기지국 설치

> 프로그래머스 레벨 3

## 풀이

[기치국 설치](https://programmers.co.kr/learn/courses/30/lessons/12979)

1. 기지국이 설치되지 않은 아파트의 범위를 잡는다.
2. 해당 범위가

   - 기지국을 설치해야 하는지
   - 기지국을 설치하지 않아도 되는지

     를 판단한다.

3. 기지국을 설치한다.
4. 가장 마지막으로 설치된 기지국과 n까지의 거리를 구한 후, 기지국을 설치해야 하는지 판단한다.

대충 큰 그림을 위와같이 그린 후 다음과 같이 구체화하였다.

1. 범위를 잡기 위한 left, right를 설정한다.
   - 처음 left, right는 모두 1로 초기화해준다.
2. 설치된 기지국을 기준으로 left, right를 구한다.
   - 10개의 아파트에 전달거리가 1인 기지국이 `[4, 7]`에 설치되어있다고 가정해보자.
   ```
   아파트 = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]
   현재 기지국 = 4
   전파 도달거리 = 1
   (현재) left = 4 - 1 - 1 = 2(부터 전파 전달 못받음)
   (현재) right = 4 + 1 + 1 = 6(부터 전파 전달 못받음)
   ```
3. 이전 right와 현재 left의 범위를 통해 기지국을 설치해야 하는지 판단한다.
   ```
   (이전) right = 1
   (현재) left = 2
   전파 전달 못받는 아파트 = 1, 2 // 기지국 하나 설치한다.
   ```
   - 전파 전달을 못받는 아파트의 개수가 **기지국 설치시 전파가 전달되는 아파트의 개수**보다 작으므로 하나만 설치하면 된다.
     - ex. 기지국을 2에 설치하면 `1, 2, 3`이 전달받을 수 있다.
   ```
   현재 기지국 = 7
   (현재) left = 7 - 1 - 1 = 5(부터 전파 전달 못받음)
   (현재) right = 7 + 1 + 1 = 9(부터 전파 전달 못받음)
   ```
   ```
   (이전) right = 6
   (현재) left = 5
   전파 전달 못받는 아파트 = 0 // 기지국 섪치하지 않는다.
   ```
4. 마지막 기지국의 경우, 마지막 아파트까지 전파가 도달하는지 파악한 후 기지국 설치 여부를 판단한다.

   ```
   마지막 기지국 = 7
   (현재) right = 9
   마지막 아파트 = 10
   전파 전달 못받는 아파트 = 9, 10 // 기지국 하나 설치한다.
   ```

5. 기지국을 설치한 개수를 반환한다.

#### 시행착오

1. 조건을 제대로 나눠주지 못해서 실패했다.
   - 처음엔 현재 left와 이전 right의 차이가 음수면 right만 구해주고 넘어가도록 구성했다.
   - else문을 쓰니까 해결되었다.
   - `n=16, stations=[5], w=7`이었을때 반례를 찾았다. ㅋㅋㅋㅋ
2. 효율성 테스트 4에서 급 시간초과가 떴다.
   - `if (i === stations.length - 1)`를 원래 `if (i === stations.length - 1) && right < n`으로 두었었다.
   - right가 n보다 크면 어차피 모든 아파트에 전파가 전달되니까.. 라고 생각했기 때문
   - 근데 시간초과가 떴고, 걍 차이가 0보다 작거나 같을떄 넘어가는 식으로 구현하니까 통과했다.
