## 스타수열

> 프로그래머스 레벨 3

### 풀이

1. a에 들어간 숫자들을 고른다.
2. a의 각 숫자들이 몇개있는지 계산한다.
3. 해당 숫자를 "교집합" 하는 스타수열의 길이를 구한다.

큰 그림을 위와같이 그린 후 다음과 같이 해결하였다.

1. a에 들어간 숫자 및 횟수를 구하는 배열을 만든다.
   - a에는 0~a의 길이 미만의 숫자들이 들어가있다.
   - 따라서 a의 길이만한 배열을 만든다. (모든 값을 0으로 초기화)
     - `index`: a에 들어간 숫자
     - `값`: a에 들어간 숫자의 횟수
2. a를 돌면서 횟수를 구한다.
   - 배열의 index가 a에 들어간 숫자이므로, `array[a[i]]++`를 해주면 된다.
3. 위 배열을 가지고 스타수열의 길이를 구해본다.
   1. 배열의 값이 0 이면? 해당 숫자가 없다는 의미이므로 pass
   2. 배열 값이 존재하면? 해당 index를 "교집합" 하는 스타수열의 길이를 구해본다.
      1. a를 `0`부터 `끝 - 1`까지 돌면서
         - 스타수열 조건에 부합하는지 확인하기 위해 **현재값, 바로 다음값**을 확인한다.
      2. 현재 값이 index와 다르고, 다음값도 index와 다르면 스타수열에 위배되므로 pass
      3. 현재값과 다음값이 같으면 스타수열에 위배되므로 pass
      4. 그 외라면?
         - 스타수열로 만들 수 있는 숫자이므로, **길이 추가**
         - 바로 다음이 아닌 **다음다음** 숫자를 확인
   3. 스타수열 길이의 최댓값을 구한다.
4. 스타수열 길이 \* 2를 해준 값을 return 한다.
   - 구한 길이가 전체 스타수열 길이 / 2 이기 때문
   - 즉, 2n 길이의 스타수열을 길이가 2인 n개의 집합으로 나눴을 때 교집합 i에 해당하는 원소 하나만 추가해 주었기 때문
   - 따라서 2배해준 값으로 return해야 한다.

#### 🤦‍♀️ 나의 시행착오

> 사실 정말 오래 걸린 문제..

1. 부분수열을 재귀함수로 구하려고 했다.
   - 길이가 2n인 부분수열을 재귀로 구한 후 해당 수열이 스타수열인지 확인하고자 했다.
   - a의 길이가 500,000이고, 무조건 십만번 이상 돌아가기 때문에 런타임에러 걸렸다.
2. 스택을 활용하고자 했다.
   - (효율성 검사도 딱히 없는듯 하여..ㅋㅋㅋ) 재귀를 스택으로 고쳐보았다.
   - 시간초과 걸렸다.
   - 그래도 여기서 희망의 끈을 놓지 않으려고 했었지만 .. 답이 없었던 관계로 ..
3. 결국 구글링 했다.
   - 참고한 블로그: [[ 프로그래머스 [ 월간코드챌린지 ] 스타 수열 ] (C++)](https://yabmoons.tistory.com/610)
